<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="mysqlmysql发展史1996年，MySQL 1.0 2008年 Sun公司收购了MySQL 2009年4月 Oracle 收购了 Sun公司 数据库：保存有组织的数据的容器。（通常是一个文件或一组文件） 表：某种特定类型数据的结构化清单。数据库中的每个表都有一个名字，用来标识自己，此名字是唯一的 列：表中的一个字段。所有表都是由一个或多个列组成。数据库中每个列都有相应的数据类型。数据类型定">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2018/07/26/mysql/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="mysqlmysql发展史1996年，MySQL 1.0 2008年 Sun公司收购了MySQL 2009年4月 Oracle 收购了 Sun公司 数据库：保存有组织的数据的容器。（通常是一个文件或一组文件） 表：某种特定类型数据的结构化清单。数据库中的每个表都有一个名字，用来标识自己，此名字是唯一的 列：表中的一个字段。所有表都是由一个或多个列组成。数据库中每个列都有相应的数据类型。数据类型定">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-09-01T02:42:40.065Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="mysqlmysql发展史1996年，MySQL 1.0 2008年 Sun公司收购了MySQL 2009年4月 Oracle 收购了 Sun公司 数据库：保存有组织的数据的容器。（通常是一个文件或一组文件） 表：某种特定类型数据的结构化清单。数据库中的每个表都有一个名字，用来标识自己，此名字是唯一的 列：表中的一个字段。所有表都是由一个或多个列组成。数据库中每个列都有相应的数据类型。数据类型定">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/26/mysql/" class="article-date">
  <time datetime="2018-07-26T01:53:37.761Z" itemprop="datePublished">2018-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><h4 id="mysql发展史"><a href="#mysql发展史" class="headerlink" title="mysql发展史"></a>mysql发展史</h4><p>1996年，MySQL 1.0</p>
<p>2008年 Sun公司收购了MySQL</p>
<p>2009年4月 Oracle 收购了 Sun公司</p>
<p>数据库：保存有组织的数据的容器。（通常是一个文件或一组文件）</p>
<p>表：某种特定类型数据的结构化清单。数据库中的每个表都有一个名字，用来标识自己，此名字是唯一的</p>
<p>列：表中的一个字段。所有表都是由一个或多个列组成。数据库中每个列都有相应的数据类型。数据类型定义列可以存储的数据种类。</p>
<p>行：表中的一个记录。</p>
<p>数据类型：数值、字符串、时间</p>
<p>SQL：是一种专门用来与数据库通信的语言。</p>
<blockquote>
<p>1、SQL不是某个特定数据库专有的语言。几乎所有重要的数据库都支持SQL</p>
<p>2、SQL简单易学。。。语句全是描述性很强的英文单词组成。</p>
</blockquote>
<p>范式：符合高一范式的设计，必定符合低一级范式。。eg：符合2NF的关系模式，必定符合1NF</p>
<p>1NF：符合1NF的关系中的每个属性都不可再分。字段不可再分。是所有数据库的最基本要求。</p>
<p>2NF：主键依赖，就是一张表里面的字段，必须是跟主键相关的，不能把无关的数据放进来。</p>
<p>3NF：就是不能重复相同的信息。是在一个对象里引用了另外一个对象。主外键关联。</p>
<p>数据库分为两种：关系型  和 非关系型</p>
<p>关系型： MySQL、Oracle、sqlite</p>
<p>非关系型：Redis、MongoDB</p>
<p>数据库模型：</p>
<p>关系型数据库存储想象成Excel：</p>
<blockquote>
<p>一个excel就相当于一个数据库</p>
<p>一个sheet相当于数据库中的一张表</p>
<p>行</p>
<p>列</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#登录数据库</span><br><span class="line">mysql -uroot -p</span><br><span class="line">#显示mysql中所有数据库，注意分号，必须要加，不然认为你没有结束</span><br><span class="line">show databases；</span><br><span class="line">#创建数据库</span><br><span class="line">create database dbname;</span><br><span class="line">#指定编码格式为utf-8</span><br><span class="line">create database dbname charset=utf8;</span><br><span class="line">#删除一个数据库</span><br><span class="line">drop database 数据库名字</span><br><span class="line">#切换数据库，提示database changed代表切换成功</span><br><span class="line">use 数据库名字</span><br><span class="line">#查看当前所在的数据库</span><br><span class="line">select database();</span><br><span class="line">#查看数据库中的表</span><br><span class="line">show tables;</span><br><span class="line">#创建表</span><br><span class="line">create table 表名 （字段 数据类型，id int primary key auto_increment）;</span><br><span class="line">#显示列  show也可以用来显示列，show columns from 表名</span><br><span class="line">show columns from student；</span><br><span class="line">#显示列2，算是上面一条语句的快捷方式</span><br><span class="line">describe student；</span><br></pre></td></tr></table></figure>
<h3 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h3><blockquote>
<p>1、创建表 ：create table table_name(name text,id int primary key auto_increment);</p>
<p>2、table_name 后 使用圆括号去书写表中的数据结构</p>
<p>3、每个字段用 逗号，隔开</p>
<p>4、字段声明格式：字段名   字段类型</p>
<p>5、每个表中都必须包含一个主键。主键是唯一的，主键通常使用数字类型。在被当做主键的字段后面加上 primary key</p>
<p>6、主键通常 是  自增长 auto_increment。。MySQL可以自动地为每个行分配下一个可用编号，不用在添加一行时，手动分配唯一值。</p>
<p>7、插入数据：insert into table_name values(value1,value2…)；value一定要和创建表时的字段顺序要完全吻合，个数要完全吻合</p>
<p>8、insert into table_name(字段名1，字段名2) value (value1,value2…);</p>
<p>注意：字段名和value要一一对应。。没有声明出来的字段名一定要有默认值</p>
</blockquote>
<p>####可视化工具</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#fn+左方向键 回到行首</span><br><span class="line">#ctl + /  注释</span><br><span class="line">#ctl + shift +/ 取消注释</span><br><span class="line">#f7  从这里运行一个语句</span><br><span class="line">#shift + ctl + r 运行已选择的</span><br><span class="line">SHOW DATABASES;</span><br><span class="line">CREATE DATABASE test03 charset=utf8;</span><br><span class="line">#切换到test03</span><br><span class="line">use test03;</span><br><span class="line">#创建一个表</span><br><span class="line">create table usermodel(id int primary key auto_increment,</span><br><span class="line">												u_name text,</span><br><span class="line">												u_password text);</span><br><span class="line">#插入一条数据</span><br><span class="line">insert into usermodel(u_name,u_password) values (&apos;daisy11&apos;,&apos;120&apos;);</span><br><span class="line"></span><br><span class="line">#查询</span><br><span class="line">SELECT * FROM usermodel;</span><br></pre></td></tr></table></figure>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>tinyint    一般用来存年龄之类的小的整数，其他用int</p>
<p>decimal（12,4） 总的长度是12位，4是小数。整数就是12-4-1=7</p>
<p><strong>字符串：</strong></p>
<p>char：长度范围是0~255，当你想要存储一个长度不足255的字符串时，mysql会用空格填充剩下的字符。</p>
<p>varchar：类型在5.0以下的版本中最大长度是255，在5.0以上的版本中，数据类型的长度支持到了65535（字节）.</p>
<p>text    ：text没有默认值，最大长度是2的16次方-1</p>
<p>总结起来，知道固定长度的是用char，超过255字符只能用varchar或者text。（能用varchar的地方就不要用text）</p>
<p>char（50）：存放的不足50，会拿空格填充。占用空间更多，但是长度固定，参与运算时速度更快。</p>
<p>varchar（50）：是一种比char更加灵活的数据类型。表示的是可以存储的最大字符串长度为50个字节。存储的是实际的长度，为传进来的数据的长度。</p>
<p>文本的比较相同的规则：首先比较的是长度，之后才是按位比较。</p>
<h3 id="crud"><a href="#crud" class="headerlink" title="crud"></a>crud</h3><p>1、新增数据</p>
<p>insert into  语句用于向表中插入一行数据</p>
<blockquote>
<p>insert into 表名称 values (值1，值2)</p>
<p>我们还可以指定所要插入的列：</p>
<p>insert into 表名称（列1，列2，。。。。）values （值1，值2.。。）</p>
</blockquote>
<p>不管使用哪种insert语法，都必须给出values的正确数目。如果不提供列名，则必须给其提供一个默认值。如果提供了列名，则必须给每个列对应出一个值。否则会报错。</p>
<p>省略列的条件：</p>
<blockquote>
<p>该列定义为允许NULL</p>
<p>在表定义中给出默认值。这表示如果不给出值，将使用默认值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT into student VALUES(10,&apos;green&apos;,18,1,1)</span><br><span class="line"></span><br><span class="line">insert into grade (g_name,g_student_num) values (&apos;python1804&apos;,55);</span><br><span class="line"></span><br><span class="line">insert low_priority into grade (g_name,g_student_num) values (&apos;python1804&apos;,55);</span><br></pre></td></tr></table></figure>
<p>可以通过在insert和into之间添加关键字 low_priority，指示MySQL降低insert语句的优先级。</p>
<p><strong>多条插入</strong></p>
<p>insert语句有多组值，每组值用一对圆括号括起来，用逗号分隔。</p>
<p>可以提高数据库处理的性能，因为MySQL用单条insert语句处理多个插入比用多条insert语句要快。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert LOW_PRIORITY into grade (g_name,g_student_num) VALUES (&apos;python1803&apos;,33),</span><br><span class="line">																														(&apos;HTML51805&apos;,70),</span><br><span class="line">																														(&apos;python1807&apos;,44);</span><br></pre></td></tr></table></figure>
<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><p>更新（修改）表中的数据，使用update语句</p>
<p>1、更新表中特定行</p>
<p>2、更新表中所有行</p>
<p>不要省略where，否则更新表中所有行。用set命令来将新值赋给被更新的列</p>
<p>语法：update 表名称 set 列名称 = 新值  where  列名称 = 某个值</p>
<blockquote>
<p>update语句由3部分组成：</p>
<p>1、要更新的表</p>
<p>2、列名和他们的新值</p>
<p>3、确定要更新行的过滤条件。</p>
</blockquote>
<p>在更新多个列时，只需要使用单个set命令。每个 “列=值”之间用逗号分隔（最后一列不用逗号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">update grade set g_name = &apos;h51801&apos; where id = 4;</span><br><span class="line"></span><br><span class="line">update grade set g_name = &apos;bigdata&apos; where g_student_num = 33;</span><br><span class="line"></span><br><span class="line">update grade set g_student_num = 99;</span><br><span class="line"></span><br><span class="line">update grade set g_name = &apos;VR1801&apos; ,g_student_num = &apos;100&apos; WHERE id = 5;</span><br><span class="line">#为了删除某个列的值，可设置它为NULL（表定义允许为null）</span><br><span class="line">update grade set g_student_num = NULL WHERE id = 4;</span><br></pre></td></tr></table></figure>
<h4 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h4><p>delete 语句用于删除表中的行。需要where条件，来删除表中的指定的行。delete不需要列名，delete删除整行而不是删除列。为了删除指定的列，请使用update语句。</p>
<blockquote>
<p>语法：delete from 表名字 where 列名 = 值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DELETE from grade WHERE g_name = &apos;bigdata&apos;;</span><br><span class="line"></span><br><span class="line">DELETE from grade;</span><br><span class="line"></span><br><span class="line">#更快的删除，如果想从表中删除所有行，不要使用delete。</span><br><span class="line">#使用truncate 表名 语句。它能完成相同的工作，但是速度更快。</span><br><span class="line">#truncate实际上是删除原来的表并重新创建一个表，而不是逐行删除表中的数据</span><br><span class="line">truncate grade;</span><br></pre></td></tr></table></figure>
<h3 id="数据库引擎"><a href="#数据库引擎" class="headerlink" title="数据库引擎"></a>数据库引擎</h3><p>mysql的存储 是以文件的形式。</p>
<p><strong>innoDB</strong></p>
<p>.frm 后缀：存储表的框架结构</p>
<p>.ibd后缀：存储表的数据和索引</p>
<blockquote>
<p>show create table student;</p>
</blockquote>
<p><strong>myisam</strong></p>
<p>.frm 后缀：存储表的框架结构，该文件与数据库引擎无关</p>
<p>.MYD    :用来存储表的数据</p>
<p>.MYI    :用来存储表的索引</p>
<blockquote>
<p>myisam表可以存储行记录数。innoDB不保存具体行数。执行slecte count（*） from table</p>
<p>时需要全表扫描。。myisam用一个变量保存了整个表的行数。执行上面语句时只需要读出该变量即可，速度很快</p>
</blockquote>
<p>两者区别：</p>
<p>1、innoDB支持事务处理，比较安全。数据文件和索引绑在一起的，必须要有主键，通过主键索引效率会很高。但是要两次查询，先查询到主键，然后再通过主键查询到数据。因此，主键不应过大。</p>
<p>2、大访问率的查询，如果表中绝大多数都只是读查询，可以考虑myisam。</p>
<p>3、写频繁，用innoDB</p>
<p>4、myisam不支持外键。</p>
<p>网址组成（四部分）：</p>
<p>​    协议       http，https（https是加密的http）</p>
<p>​    主机    g.cn   zhihu.com 之类的网址</p>
<p>​    端口    http协议默认是80，因此一般不用填写，ip相当于地址，端口就是收信人的名字</p>
<p>​    路径    /question/43567890 都是路径</p>
<p><a href="http://www.zhihu.com/" target="_blank" rel="noopener">http://www.zhihu.com/</a></p>
<p><a href="http://www.zhihu.com/question/43567890" target="_blank" rel="noopener">http://www.zhihu.com/question/43567890</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/26/mysql/" data-id="cjlitp4ui0003a0wl737uu016" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/09/01/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/09/01/你真好你真是个大傻屌-1/">你真好你真是个大傻屌</a>
          </li>
        
          <li>
            <a href="/2018/09/01/你真好你真是个大傻屌/">你真好你真是个大傻屌</a>
          </li>
        
          <li>
            <a href="/2018/09/01/hello/">hello </a>
          </li>
        
          <li>
            <a href="/2018/09/01/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2018/07/26/mysql/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>